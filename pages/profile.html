<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>个人资料</title>
    <link rel="stylesheet" href="../styles/style.css">
    <link rel="stylesheet" href="../styles/profile.css">
    <link rel="stylesheet" href="../styles/profile-dialog.css">
    <link rel="stylesheet" href="../styles/password-dialog.css">
</head>
<body>
    <div class="profile-container">
        <a href="user.html" class="btn-back">← 返回个人中心</a>
        <div class="profile-header">
            <div class="profile-name">个人信息</div>
        </div>
        
        <div class="profile-info">
            <div class="info-section">
                <div class="info-item">
                    <div class="info-icon">👤</div>
                    <div class="info-label">用户名:</div>
                    <div class="info-value" id="displayUsername">-</div>
                </div>
                <div class="info-item">
                    <div class="info-icon">📧</div>
                    <div class="info-label">邮箱:</div>
                    <div class="info-value" id="displayEmail">-</div>
                </div>
            </div>
        </div>
        
        <div class="action-buttons">
            <a href="security.html" class="btn-security">安全设置</a>
            <button class="btn-edit" onclick="showEditDialog()">修改个人信息</button>
            <button class="btn-password" onclick="showPasswordDialog()">修改密码</button>
        </div>
    </div>
    
    <!-- 密码修改对话框 -->
    <div class="password-dialog-overlay" id="passwordDialogOverlay">
        <div class="password-dialog-content">
            <button class="password-dialog-close" id="passwordDialogClose">&times;</button>
            <div class="password-dialog-header">
                <h2 class="password-dialog-title">修改密码</h2>
                <p class="password-dialog-subtitle">为了您的账户安全，请设置一个强密码</p>
            </div>
            
            <form class="password-dialog-form" id="passwordDialogForm">
                <div class="password-dialog-form-group">
                    <label for="dialogCurrentPassword">当前密码</label>
                    <input type="password" id="dialogCurrentPassword" name="currentPassword" required>
                    <div class="password-dialog-error-message" id="dialogCurrentPasswordError"></div>
                </div>
                
                <div class="password-dialog-form-group">
                    <label for="dialogNewPassword">新密码</label>
                    <input type="password" id="dialogNewPassword" name="newPassword" required>
                    <div class="password-strength">
                        <div class="strength-bar" id="dialogStrengthBar"></div>
                    </div>
                    <div class="strength-text" id="dialogStrengthText">请输入新密码</div>
                    <div class="password-dialog-error-message" id="dialogNewPasswordError"></div>
                </div>
                
                <div class="password-dialog-form-group">
                    <label for="dialogConfirmPassword">确认新密码</label>
                    <input type="password" id="dialogConfirmPassword" name="confirmPassword" required>
                    <div class="password-dialog-error-message" id="dialogConfirmPasswordError"></div>
                    <div class="password-dialog-success-message" id="dialogConfirmPasswordSuccess"></div>
                </div>
                
                <div class="password-dialog-actions">
                    <button type="button" class="password-dialog-btn password-dialog-btn-cancel" id="passwordDialogCancel">取消</button>
                    <button type="submit" class="password-dialog-btn password-dialog-btn-save">保存</button>
                </div>
            </form>
        </div>
    </div>
    
    <script src="../scripts/profile.js"></script>
    <script src="../scripts/profile-dialog.js"></script>
    <script src="../scripts/password-dialog.js"></script>
    <script src="../scripts/auth-check.js"></script>
</body>
</html>